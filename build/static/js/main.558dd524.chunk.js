(this["webpackJsonpstock-app"]=this["webpackJsonpstock-app"]||[]).push([[0],{229:function(e,t,a){},231:function(e,t,a){},359:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a(0),c=a.n(s),i=a(18),r=a.n(i),o=(a(229),a(65)),l=a.n(o),d=a(110),h=a(33),u=a(26),j=a(19),m=a(38),b=a(74),p=(a(231),a(15)),O=a(25),x=a(439),g=a(27),k=a.n(g),f=a(28),y=a.n(f);function v(e,t){return new Promise((function(a,n){var s,c;switch(t){case"1H":c="1",s=y()().subtract(1,"days").unix();break;case"1D":c="5",s=y()().subtract(2,"days").unix();break;case"10D":c="15",s=y()().subtract(10,"days").unix();break;case"1M":c="30",s=y()().subtract(1,"months").unix();break;case"3M":c="30",s=y()().subtract(3,"months").unix();break;case"6M":c="D",s=y()().subtract(6,"months").unix();break;case"1Y":c="D",s=y()().subtract(1,"years").unix();break;case"3Y":c="W",s=y()().subtract(3,"years").unix();break;case"5Y":c="W",s=y()().subtract(5,"years").unix();break;case"ALL":c="W",s=y()().subtract(20,"years").unix()}k.a.get("".concat(window.environment,"/api/stocks/timeseries"),{params:{symbol:e,interval:c,to:y()().unix(),from:s}}).then((function(e){return a(e)})).catch((function(e){return n(e)}))}))}function S(e){return new Promise((function(t,a){k.a.get("".concat(window.environment,"/api/stocks/quote"),{params:{symbol:e}}).then((function(e){return t(e)})).catch((function(e){return a(e)}))}))}function w(e){return new Promise((function(t,a){k.a.get("".concat(window.environment,"/api/stocks/stock-search/").concat(e)).then((function(e){return t(e)})).catch((function(e){return a(e)}))}))}function N(e){console.log("Tracking current price for ".concat(e)),window.socket.send(JSON.stringify({type:"subscribe",symbol:e}))}function C(e){console.log("Tracking current price for ".concat(e)),window.socket.send(JSON.stringify({type:"subscribe",symbol:e}))}function D(e){return new Promise((function(t,a){k.a.get("".concat(window.environment,"/api/stocks/company-profile"),{params:{symbol:e}}).then((function(e){return t(e)})).catch((function(e){return a(e)}))}))}function M(e){return new Promise((function(t,a){k.a.get("".concat(window.environment,"/api/stocks/company-financials"),{params:{symbol:e}}).then((function(e){return t(e)})).catch((function(e){return a(e)}))}))}function I(e){return new Promise((function(t,a){k.a.get("".concat(window.environment,"/api/stocks/saved-stocks"),{params:{userID:e}}).then((function(e){return t(e.data)})).catch((function(e){return a(e)}))}))}function B(e,t){return new Promise((function(a,n){k.a.post("".concat(window.environment,"/api/stocks/new-stock"),{watchlist:t},{params:{userID:e}}).then((function(e){a(e)})).catch((function(e){n(e)}))}))}function T(e,t){return new Promise((function(a,n){k.a.delete("".concat(window.environment,"/api/stocks/remove-stock"),{params:{userID:e},data:{stock:t}}).then((function(e){a(e)})).catch((function(e){n(e)}))}))}function E(e){return new Promise((function(t,a){k.a.post("".concat(window.environment,"/api/login/login"),e).then((function(e){t(e)})).catch((function(e){a(e)}))}))}function A(e,t){return new Promise((function(a,n){k.a.get("".concat(window.environment,"/api/ipo/ipo-calendar"),{params:{from:e,to:t}}).then((function(e){return a(e)})).catch((function(e){return n(e)}))}))}function L(e,t){return new Promise((function(a,n){k.a.get("".concat(window.environment,"/api/earnings/earnings-calendar"),{params:{from:e,to:t}}).then((function(e){return a(e)})).catch((function(e){return n(e)}))}))}function P(e){return new Promise((function(t,a){k.a.get("".concat(window.environment,"/api/news/top-news/").concat(e)).then((function(e){return t(e)})).catch((function(e){return a(e)}))}))}var F=a(111),W=a(416),Y=a(419),R=a(191),z=a.n(R),U=a(202),H=a(415),V=Object(U.a)({palette:{primary:{light:"#757ce8",main:"#3f50b5",dark:"#002884",contrastText:"#fff"},secondary:{light:"#f0f0f0",main:"#595959",dark:"#303030",contrastText:"#000"}}});function q(e){return Object(n.jsx)(H.a,{theme:V,children:Object(n.jsx)(W.a,{className:"navbar",position:"sticky",color:"light"===e.colorDisplay?"primary":"secondary",children:Object(n.jsxs)(Y.a,{className:"nav-menu",children:[Object(n.jsx)(z.a,{className:"menu-icon",onClick:e.onDisplayMenu}),!e.loggedIn&&Object(n.jsxs)("div",{className:"flex-col",children:[Object(n.jsx)(p.b,{to:"/sign-in",onClick:e.displayMenu&&e.onDisplayMenu,className:"nav-link",children:"Sign In"}),Object(n.jsx)(p.b,{to:"/create-user",onClick:e.displayMenu&&e.onDisplayMenu,className:"nav-link",children:"Create User"})]}),e.loggedIn&&Object(n.jsx)(p.b,{to:"/",onClick:function(t){e.logout()},className:"nav-link",children:"Logout"})]})})})}var J=a(420),Q=a(193),X=a.n(Q),G=a(150),_=a.n(G),$=a(194),K=a.n($),Z=a(192),ee=a.n(Z),te=function(e){var t={backgroundColor:"dark"===e.colorDisplay?"#f0f0f0":"",height:window.screen.height};return Object(n.jsxs)("div",{className:"sidebar",style:t,onClick:e.displayMenu?e.onDisplayMenu:void 0,children:[Object(n.jsx)(Y.a,{className:"sidebarNewsButton",children:Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsx)(ee.a,{}),Object(n.jsx)(p.b,{to:"/",onClick:e.displayMenu?e.onDisplayMenu:void 0,className:"sidebarLink",children:Object(n.jsx)("h3",{children:"Stock News"})})]})}),Object(n.jsx)(J.a,{variant:"middle"}),Object(n.jsx)(Y.a,{className:"addWatchlist",children:Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsx)(X.a,{}),Object(n.jsx)(p.b,{to:"/stock-search",onClick:e.displayMenu?e.onDisplayMenu:void 0,className:"sidebarLink",children:Object(n.jsx)("h3",{children:"Stock Search"})})]})}),Object(n.jsx)(J.a,{variant:"middle"}),Object(n.jsx)(Y.a,{className:"addWatchlist",children:Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsx)(_.a,{}),Object(n.jsx)(p.b,{to:"/ipo-calendar",onClick:e.displayMenu?e.onDisplayMenu:void 0,className:"sidebarLink",children:Object(n.jsx)("h3",{children:"IPO Calendar"})})]})}),Object(n.jsx)(J.a,{variant:"middle"}),Object(n.jsx)(Y.a,{className:"addWatchlist",children:Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsx)(_.a,{}),Object(n.jsx)(p.b,{to:"/earnings-calendar",onClick:e.displayMenu?e.onDisplayMenu:void 0,className:"sidebarLink",children:Object(n.jsx)("h3",{children:"Earnings Calendar"})})]})}),Object(n.jsx)(J.a,{variant:"middle"}),Object(n.jsx)(Y.a,{className:"addWatchlist",children:Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsx)(K.a,{}),Object(n.jsx)(p.b,{to:"/watchlist",onClick:e.displayMenu?e.onDisplayMenu:void 0,className:"sidebarLink",children:Object(n.jsx)("h3",{children:"Watchlist"})})]})})]})},ae=a(421),ne=function(e){return Object(n.jsx)("ul",{className:"newsList",children:e.newsItems[0].map((function(t){return Object(n.jsxs)("div",{className:"newsArticle",children:[Object(n.jsxs)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:[Object(n.jsx)("img",{className:"newsImg",src:t.urlToImage,alt:t.title}),Object(n.jsx)("p",{className:"articleSourceName",style:{color:"dark"===e.colorDisplay?"white":""},children:t.source.name}),Object(n.jsx)("h4",{className:"articleTitle",style:{color:"dark"===e.colorDisplay?"white":""},children:t.title})]}),Object(n.jsx)("p",{className:"articleDate",children:t.publishedAt.slice(0,10)})]},e.newsItems[0].indexOf(t))}))})};function se(e){return c.a.useEffect((function(){e.onNewsSearch("stocks")}),[]),e.newsItems.length>=1?Object(n.jsxs)("div",{className:"newsLayout",children:[Object(n.jsx)("h1",{children:"Top Stories"}),Object(n.jsx)(ne,{newsItems:e.newsItems,colorDisplay:e.colorDisplay})]}):Object(n.jsxs)("div",{className:"newsLayout",children:[Object(n.jsx)("h1",{children:"Top Stories"}),Object(n.jsx)("h3",{children:"Loading.."}),Object(n.jsx)("div",{className:"newsUnavailableLayout",children:Array.from(Array(9).keys()).map((function(e){return Object(n.jsxs)("div",{className:"loadingNewsBlurb",children:[Object(n.jsx)(ae.a,{variant:"rect",className:"loadingNewsImg"}),Object(n.jsx)(ae.a,{variant:"text"}),Object(n.jsx)(ae.a,{variant:"text"})]},e)}))})]})}var ce=a(132),ie=a(446),re=a(433),oe=a(434),le=a(198),de=a.n(le);function he(e){return Math.ceil(100*e)/100}function ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"USD",n=new Intl.NumberFormat(t,{style:"currency",currency:a});return n.format(e)}var je=a(32),me=a(441),be=a(442),pe=a(112),Oe=a(95),xe=a(96),ge=a(196),ke=a(49),fe=a(137),ye=a(75),ve=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e,t,a=this.props,s=a.type,c=a.width,i=a.data,r=a.ratio,o=a.stockName,l=a.colorDisplay,d={left:50,right:50,top:10,bottom:30},h={innerTickSize:-1*(c-d.left-d.right),tickStrokeOpacity:.2};"dark"===l&&(e={stroke:function(e){return e.close>e.open?"#6BA583":"#DB0000"},wickStroke:function(e){return e.close>e.open?"#6BA583":"#DB0000"},fill:function(e){return e.close>e.open?"#6BA583":"#DB0000"}},t={stroke:"#FFFFFF",tickStroke:"#FFFFFF"});Object(ke.ema)().id(0).options({windowSize:20}).merge((function(e,t){e.ema20=t})).accessor((function(e){return e.ema20})),Object(ke.ema)().id(2).options({windowSize:50}).merge((function(e,t){e.ema50=t})).accessor((function(e){return e.ema50}));var u=Object(ke.ema)().id(0).options({windowSize:26}).merge((function(e,t){e.ema26=t})).accessor((function(e){return e.ema26})),j=Object(ke.ema)().id(1).options({windowSize:12}).merge((function(e,t){e.ema12=t})).accessor((function(e){return e.ema12})),m=Object(ke.sma)().id(3).options({windowSize:50,sourcePath:"volume"}).merge((function(e,t){e.smaVolume50=t})).accessor((function(e){return e.smaVolume50})),b=(Object(ke.stochasticOscillator)().options({windowSize:14,kWindowSize:3}).merge((function(e,t){e.slowSTO=t})).accessor((function(e){return e.slowSTO})),Object(ke.stochasticOscillator)().options({windowSize:14,kWindowSize:1}).merge((function(e,t){e.fastSTO=t})).accessor((function(e){return e.fastSTO})),Object(ke.stochasticOscillator)().options({windowSize:14,kWindowSize:3,dWindowSize:4}).merge((function(e,t){e.fullSTO=t})).accessor((function(e){return e.fullSTO})),Object(ke.bollingerBand)().merge((function(e,t){e.bb=t})).accessor((function(e){return e.bb})),Object(ke.rsi)().options({windowSize:14}).merge((function(e,t){e.rsi=t})).accessor((function(e){return e.rsi}))),p=u(j(m(b(Object(ke.atr)().options({windowSize:14}).merge((function(e,t){e.atr14=t})).accessor((function(e){return e.atr14}))(i))))),O=ge.discontinuousTimeScaleProvider.inputDateAccessor((function(e){return new Date(e.date)}))(p),x=O.data,g=O.xScale,k=O.xAccessor,f=O.displayXAccessor,y=[new Date(k(x[0])),new Date(k(x[x.length-1]))];return Object(n.jsxs)(pe.b,{height:700,ratio:r,width:c,margin:d,type:s,seriesName:o,data:x,xAccessor:k,displayXAccessor:f,xScale:g,xExtents:y,children:[Object(n.jsx)(ye.CrossHairCursor,{stroke:"#FFFFFF"}),Object(n.jsxs)(pe.a,{id:1,height:300,yExtents:[function(e){return[e.high,e.low]},u.accessor(),j.accessor()],padding:{top:60,bottom:20},children:[Object(n.jsx)(xe.XAxis,Object(je.a)(Object(je.a)({axisAt:"bottom",orient:"bottom",ticks:3,outerTickSize:0},t),{},{opacity:.5})),Object(n.jsx)(xe.YAxis,Object(je.a)(Object(je.a)({axisAt:"right",orient:"right",ticks:5},h),{},{inverted:!0},t)),Object(n.jsx)(Oe.CandlestickSeries,Object(je.a)({},e)),Object(n.jsx)(ye.MouseCoordinateX,{at:"bottom",orient:"bottom",displayFormat:Object(be.a)("%Y-%m-%d %I:%M %p")}),Object(n.jsx)(ye.MouseCoordinateY,{at:"right",orient:"right",displayFormat:Object(me.a)(".2f")}),Object(n.jsx)(Oe.LineSeries,{yAccessor:u.accessor(),stroke:u.stroke()}),Object(n.jsx)(Oe.LineSeries,{yAccessor:j.accessor(),stroke:j.stroke()}),Object(n.jsx)(ye.CurrentCoordinate,{yAccessor:u.accessor(),fill:u.stroke()}),Object(n.jsx)(ye.CurrentCoordinate,{yAccessor:j.accessor(),fill:j.stroke()}),Object(n.jsx)(ye.EdgeIndicator,{itemType:"last",orient:"right",edgeAt:"right",yAccessor:function(e){return e.close},fill:function(e){return e.close>e.open?"#6BA583":"#FF0000"}}),Object(n.jsx)(fe.OHLCTooltip,Object(je.a)({origin:[-39,0]},t)),Object(n.jsx)(fe.MovingAverageTooltip,Object(je.a)(Object(je.a)({onClick:function(e){return console.log(e)}},t),{},{origin:[-38,10],options:[{yAccessor:u.accessor(),type:"EMA",stroke:u.stroke(),windowSize:u.options().windowSize},{yAccessor:j.accessor(),type:"EMA",stroke:j.stroke(),windowSize:j.options().windowSize}]}))]}),Object(n.jsxs)(pe.a,{id:2,yExtents:function(e){return e.volume},height:150,origin:function(e,t){return[0,t-300]},children:[Object(n.jsx)(xe.YAxis,Object(je.a)({axisAt:"left",orient:"left",ticks:5,tickFormat:Object(me.a)(".2s")},t)),Object(n.jsx)(Oe.BarSeries,{yAccessor:function(e){return e.volume},fill:function(e){return e.close>e.open?"#6BA583":"#DB0000"}})]}),Object(n.jsxs)(pe.a,{id:3,yExtents:[0,100],height:150,origin:function(e,t){return[0,t-150]},children:[Object(n.jsx)(xe.XAxis,{axisAt:"bottom",orient:"bottom",showTicks:!1,outerTickSize:0}),Object(n.jsx)(xe.YAxis,Object(je.a)(Object(je.a)({},t),{},{axisAt:"right",orient:"right",tickValues:[30,50,70]})),Object(n.jsx)(ye.MouseCoordinateY,{at:"right",orient:"right",displayFormat:Object(me.a)(".2f")}),Object(n.jsx)(Oe.RSISeries,{yAccessor:function(e){return e.rsi}}),Object(n.jsx)(fe.RSITooltip,Object(je.a)({origin:[-38,15],yAccessor:function(e){return e.rsi},options:b.options()},t))]})]})}}]),a}(c.a.Component);ve.defaultProps={type:"hybrid"};var Se=ve=Object(ce.fitWidth)(ve),we=a(8),Ne=a(89);function Ce(e){for(var t=e.companyFinancials,a=[],s=0,c=Object.entries(t.metric);s<c.length;s++){var i=Object(we.a)(c[s],2),r=i[0],o=i[1];a.push({id:r,value:o})}return Object(n.jsx)("div",{className:"companyFinancialsList",style:{height:400,width:"100%"},children:Object(n.jsx)(Ne.a,{rows:a,columns:[{field:"id",headerName:"Metric",width:300},{field:"value",headerName:"Value",width:150}]})})}function De(e){function t(e){e.target.style.background="#e3e3e3",e.target.style.borderRadius="8px"}function a(e){e.target.style.background="none"}var s={fontWeight:700},c=e.candlestickData,i=e.stockQuote,r=e.stockNameDisplay,o=e.stockPriceRealtime,l=e.colorDisplay,d=e.timelineRef,h=e.newsItems,u=e.companyProfile,j=e.companyFinancials,m=o.hasOwnProperty(j.symbol)?o[j.symbol]:i.c,b=function(){if(i){var e=m,t=i.o;return(e-t)/t*100}}();return e.flagUndefined?Object(n.jsx)("div",{className:"stockPageLayout",children:Object(n.jsxs)("div",{className:"loadingStockChart",children:[Object(n.jsx)(ae.a,{variant:"rect",className:"loadingStockPrice"}),Object(n.jsx)("h3",{children:"Api call limit reached. Please refresh in 60 seconds."}),Object(n.jsx)(ae.a,{variant:"rect",className:"loadingChart"}),Object(n.jsx)(ae.a,{variant:"rect",className:"loadingChart"}),Object(n.jsx)(ae.a,{variant:"rect",className:"loadingChart"}),Object(n.jsx)(ae.a,{variant:"text"}),Object(n.jsx)(ae.a,{variant:"text"}),Object(n.jsx)(ae.a,{variant:"text"})]})}):0===c.length||void 0===c?Object(n.jsx)("div",{className:"stockPageLayout",children:Object(n.jsxs)("div",{className:"loadingStockChart",children:[Object(n.jsx)(ae.a,{variant:"rect",className:"loadingStockPrice"}),Object(n.jsx)("h3",{children:"Rendering stock charts"}),Object(n.jsxs)("p",{children:["If page doesn't load in 5 seconds, ",Object(n.jsx)(p.b,{to:"/stock-search",children:"try again"}),"."]}),Object(n.jsx)(ae.a,{variant:"rect",className:"loadingChart"}),Object(n.jsx)(ae.a,{variant:"rect",className:"loadingChart"}),Object(n.jsx)(ae.a,{variant:"rect",className:"loadingChart"}),Object(n.jsx)(ae.a,{variant:"text"}),Object(n.jsx)(ae.a,{variant:"text"}),Object(n.jsx)(ae.a,{variant:"text"})]})}):c.length>0?Object(n.jsxs)("div",{className:"stockPageLayout",children:[Object(n.jsxs)("div",{className:"flex-row",children:[Object(n.jsxs)("div",{className:"stockPageHeader",children:[Object(n.jsxs)("div",{className:"flex",children:[u.logo&&Object(n.jsx)("img",{className:"stockLogo",src:u.logo}),Object(n.jsx)("h1",{children:u.name?u.name:"Company Name Undefined"})]}),Object(n.jsx)("h3",{className:"margin-left",children:j.symbol?j.symbol:"Symbol Undefined"})]}),Object(n.jsxs)("div",{className:"inline",children:[Object(n.jsx)("h2",{children:ue(m)}),b>0?Object(n.jsxs)("h4",{className:"green-text",children:["+",he(b),"%"]}):Object(n.jsxs)("h4",{className:"red-text",children:[he(b),"%"]})]})]}),Object(n.jsx)(J.a,{variant:"fullWidth"}),Object(n.jsxs)("div",{className:"chartArea",children:[Object(n.jsxs)("div",{className:"chartControls",children:[Object(n.jsx)("p",{style:s,className:"1H"===d?"boldText pd-5-15":"timelineSelector pd-5-15",onMouseEnter:t,onMouseLeave:a,onClick:function(){return e.onSelectTimeline("1H")},children:"1H"}),Object(n.jsx)("p",{style:s,className:"1D"===d?"boldText pd-5-15":"timelineSelector pd-5-15",onMouseEnter:t,onMouseLeave:a,onClick:function(){return e.onSelectTimeline("1D")},children:"1D"}),Object(n.jsx)("p",{style:s,className:"10D"===d?"boldText pd-5-15":"timelineSelector pd-5-15",onMouseEnter:t,onMouseLeave:a,onClick:function(){return e.onSelectTimeline("10D")},children:"10D"}),Object(n.jsx)("p",{style:s,className:"1M"===d?"boldText pd-5-15":"timelineSelector pd-5-15",onMouseEnter:t,onMouseLeave:a,onClick:function(){return e.onSelectTimeline("1M")},children:"1M"}),Object(n.jsx)("p",{style:s,className:"6M"===d?"boldText pd-5-15":"timelineSelector pd-5-15",onMouseEnter:t,onMouseLeave:a,onClick:function(){return e.onSelectTimeline("6M")},children:"6M"}),Object(n.jsx)("p",{style:s,className:"1Y"===d?"boldText pd-5-15":"timelineSelector pd-5-15",onMouseEnter:t,onMouseLeave:a,onClick:function(){return e.onSelectTimeline("1Y")},children:"1Y"}),Object(n.jsx)("p",{style:s,className:"5Y"===d?"boldText pd-5-15":"timelineSelector pd-5-15",onMouseEnter:t,onMouseLeave:a,onClick:function(){return e.onSelectTimeline("5Y")},children:"5Y"}),Object(n.jsx)("p",{style:s,className:"ALL"===d?"boldText pd-5-15":"timelineSelector pd-5-15",onMouseEnter:t,onMouseLeave:a,onClick:function(){return e.onSelectTimeline("ALL")},children:"ALL"})]}),Object(n.jsx)(J.a,{variant:"fullWidth"}),Object(n.jsx)("div",{className:"chart",children:Object(n.jsx)(ce.TypeChooser,{children:function(e){return Object(n.jsx)(Se,{stockName:r,type:e,data:c,colorDisplay:l})}})}),Object(n.jsxs)("div",{className:"details",children:[c&&Object(n.jsxs)("div",{className:"detailRow",children:[Object(n.jsxs)("div",{className:"detailColumn",children:[Object(n.jsx)("p",{className:"rm-margin-all",children:"Open"}),Object(n.jsx)("p",{className:"rm-margin-all",children:ue(i.o)})]}),Object(n.jsxs)("div",{className:"detailColumn",children:[Object(n.jsx)("p",{children:"High"}),Object(n.jsx)("p",{children:ue(i.h)})]}),Object(n.jsxs)("div",{className:"detailColumn",children:[Object(n.jsx)("p",{className:"rm-margin-all",children:"Low"}),Object(n.jsx)("p",{className:"rm-margin-all",children:ue(i.l)})]})]}),j.metric&&Object(n.jsxs)("div",{className:"detailRow",children:[Object(n.jsxs)("div",{className:"detailColumn",children:[Object(n.jsx)("p",{className:"rm-margin-all",children:"52W H"}),Object(n.jsx)("p",{className:"rm-margin-all",children:ue(j.metric["52WeekHigh"])})]}),Object(n.jsxs)("div",{className:"detailColumn",children:[Object(n.jsx)("p",{children:"52W L"}),Object(n.jsx)("p",{children:ue(j.metric["52WeekLow"])})]}),Object(n.jsxs)("div",{className:"detailColumn",children:[Object(n.jsx)("p",{className:"rm-margin-all",children:"Avg Vol (10 Day)"}),Object(n.jsx)("p",{className:"rm-margin-all",children:he(j.metric["10DayAverageTradingVolume"])})]})]}),Object(n.jsxs)("div",{className:"detailRow",children:[Object(n.jsxs)("div",{className:"detailColumn",children:[Object(n.jsx)("p",{className:"rm-margin-all",children:"Industry"}),Object(n.jsx)("p",{className:"rm-margin-all",children:u.finnhubIndustry})]}),Object(n.jsxs)("div",{className:"detailColumn",children:[Object(n.jsx)("p",{children:"IPO Date"}),Object(n.jsx)("p",{children:u.ipo})]}),Object(n.jsxs)("div",{className:"detailColumn",children:[Object(n.jsx)("p",{className:"rm-margin-all",children:"Market Cap"}),Object(n.jsxs)("p",{className:"rm-margin-all",children:["$",u.marketCapitalization," B"]})]}),Object(n.jsxs)("div",{className:"detailColumn",children:[Object(n.jsx)("p",{children:"Shares Outstanding"}),Object(n.jsxs)("p",{children:[he(u.shareOutstanding)," Million"]})]}),Object(n.jsx)("div",{className:"detailColumn",children:Object(n.jsx)("a",{className:"rm-margin-all",href:u.weburl,target:"_blank",children:Object(n.jsx)("p",{children:"Link to Website"})})})]})]}),Object(n.jsx)("div",{children:j.metric&&Object(n.jsxs)(ie.a,{className:"companyFinancialsModule",children:[Object(n.jsx)(re.a,{expandIcon:Object(n.jsx)(de.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)("p",{className:"",children:"More Financial Information"})}),Object(n.jsx)(oe.a,{children:Object(n.jsx)(Ce,{companyFinancials:j})})]})})]}),h.length>=1&&Object(n.jsx)(ne,{newsItems:h,colorDisplay:l})]}):void 0}var Me=a(199),Ie=a.n(Me),Be=function(e){var t=e.watchlist,a=e.onStockSearchSelect,s=e.removeStock;return Object(n.jsx)("div",{children:t.length>0&&Object(n.jsx)("div",{className:"watchlistSection",children:t.map((function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"watchlistItem",children:Object(n.jsxs)("div",{className:"flex-row",children:[Object(n.jsxs)(p.b,{className:"watchlistItemName",to:"/stocks/?stock=".concat(e.ticker),onClick:function(t){return a(e.ticker,e.company)},children:[Object(n.jsx)("h3",{className:"rm-margin-all",children:e.ticker}),Object(n.jsx)("br",{}),Object(n.jsx)("p",{className:"rm-margin-all",children:e.company})]}),Object(n.jsx)(Ie.a,{onClick:function(t){return s(e)}})]})}),Object(n.jsx)(J.a,{variant:"middle"})]},t.indexOf(e))}))})})},Te=function(e){var t=e.watchlist,a=e.onStockSearchSelect,s=e.removeStock,c=e.loggedIn,i=(e.colorDisplay,t||[]);return i.length>0?Object(n.jsxs)("div",{className:"watchlistView",children:[Object(n.jsx)("h1",{children:"Watchlist"}),Object(n.jsx)(Be,{watchlist:t,onStockSearchSelect:a,removeStock:s})]}):c&&0===i.length?Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Watchlist"}),Object(n.jsxs)("p",{children:["Watchlist empty. ",Object(n.jsx)(p.b,{to:"/stock-search",children:"Search"})," for stocks to add."]})]}):Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Watchlist"}),Object(n.jsxs)("p",{children:[Object(n.jsx)(p.b,{to:"/sign-in",children:"Sign in"})," to view your watchlist."]})]})},Ee=a(445),Ae=a(435),Le=function(e){var t=Object(s.useState)(""),a=Object(we.a)(t,2),c=a[0],i=a[1];e.colorDisplay;return Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[Object(n.jsx)(Ee.a,{className:"stockSearchInput",inputProps:{style:{fontSize:30}},InputLabelProps:{style:{fontSize:40}},fullWidth:!0,color:"primary",size:"medium",id:"standard-search",label:"Search..",type:"search",onChange:function(e){return i(e.target.value)}}),Object(n.jsx)(Ae.a,{type:"submit",label:"Search",id:"ipo-search-btn",color:"primary",size:"large",onClick:function(){e.onStockSearch(c)},children:"Search"})]})},Pe=a(200),Fe=a.n(Pe),We=function(e){var t=e.loggedIn,a=e.searchItems,s=e.onAddStockToWatchlist,c=e.onStockSearchSelect;return Object(n.jsx)("ul",{className:"searchItemList",children:a.map((function(e){return Object(n.jsxs)("div",{className:"searchItem",children:[Object(n.jsxs)("div",{className:"flex-row",children:[Object(n.jsxs)("div",{className:"top-padding",children:[Object(n.jsx)(p.b,{to:"/stocks/?stock=".concat(e["1. symbol"]),onClick:function(t){c(e["1. symbol"],e["2. name"])},className:"stockSearchSymbol",children:e["1. symbol"]}),Object(n.jsx)("p",{className:"stockSearchCompanyName",children:e["2. name"]})]}),Object(n.jsx)(p.b,{to:t?"/watchlist":"/sign-in",children:Object(n.jsx)(Fe.a,{onClick:function(t){s(e["1. symbol"],e["2. name"])}})})]}),Object(n.jsx)(J.a,{variant:"middle"})]},a.indexOf(e))}))})},Ye=function(e){return Object(n.jsxs)("div",{className:"stockSearchView",children:[Object(n.jsx)("h1",{children:"Stock Search"}),Object(n.jsx)(Le,{onStockSearch:e.onStockSearch,colorDisplay:e.colorDisplay}),e.searchItems.length>0&&Object(n.jsx)(We,{searchItems:e.searchItems,onStockSearchSelect:e.onStockSearchSelect,watchlist:e.watchlist,onAddStockToWatchlist:e.onAddStockToWatchlist,removeStock:e.removeStock}),!e.searchItems.length&&Object(n.jsx)("p",{children:"No search results to display."})]})},Re=a(204),ze=a(138),Ue=a.n(ze),He=a(151),Ve=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={email:"",username:"",password:"",error:!1,passLengthCheck:!1,passWhiteCheck:!1,passNumCheck:!1},n.onChangeUsername=n.onChangeUsername.bind(Object(j.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(j.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(j.a)(n)),n.createUserSubmit=n.createUserSubmit.bind(Object(j.a)(n)),n.onLoadRecaptcha=n.onLoadRecaptcha.bind(Object(j.a)(n)),n.verifyCallback=n.verifyCallback.bind(Object(j.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){Object(He.loadReCaptcha)()}},{key:"onLoadRecaptcha",value:function(){this.captchaDemo&&(this.captchaDemo.reset(),this.captchaDemo.execute())}},{key:"verifyCallback",value:function(e){console.log(e,"<= your recaptcha token")}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){var t=/[0-9|%|!|@|#|$|^|&|*|(|)|-|_|+]/,a=/[\D]/,n=/\s/;e.target.value.length>=7?this.setState({passLengthCheck:!0}):e.target.value.length<7&&this.setState({passLengthCheck:!1}),t.test(e.target.value)&&a.test(e.target.value)?this.setState({passNumCheck:!0}):t.test(e.target.value)||a.test(e.target.value)||this.setState({passNumCheck:!1}),n.test(e.target.value)?n.test(e.target.value)&&this.setState({passWhiteCheck:!1}):this.setState({passWhiteCheck:!0}),e.target.value.length>=7&&t.test(e.target.value)&&a.test(e.target.value)&&!n.test(e.target.value)?this.setState({password:e.target.value,error:!1}):this.setState((function(e){return{error:!0}}))}},{key:"createUserSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,username:this.state.username,password:this.state.password};k.a.post("".concat(window.environment,"/api/users/newuser"),t).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),this.setState({email:"",username:"",password:""}),window.location="/sign-in"}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"createUserView",children:[Object(n.jsx)("h1",{children:"Create an Account"}),Object(n.jsxs)(Re.a,{className:"createAccountFormContainer",children:[Object(n.jsx)("p",{children:"Create a free watchlists account."}),Object(n.jsx)("br",{}),Object(n.jsxs)("form",{className:"createAccountForm",onSubmit:this.createUserSubmit,children:[Object(n.jsx)(Ee.a,{className:"createUserFormField",id:"outlined",label:"Email Address",placeholder:"Type in a valid email address",fullWidth:!0,margin:"normal",type:"email",InputLabelProps:{shrink:!0},variant:"outlined",onChange:this.onChangeEmail,required:!0}),Object(n.jsx)(Ee.a,{className:"createUserFormField",id:"outlined-password-input",label:"Username",type:"text",variant:"outlined",onChange:this.onChangeUsername,required:!0}),Object(n.jsx)(Ee.a,{className:"createUserFormField",id:"outlined-password-input",label:"Password",type:"password",variant:"outlined",onChange:this.onChangePassword,required:!0}),Object(n.jsx)(Ae.a,{disabled:this.state.error,className:"createUserButton",type:"submit",variant:"contained",color:"primary",size:"large",children:"Create"})]}),Object(n.jsx)("h4",{children:"Password must include:"}),Object(n.jsxs)("ul",{children:[Object(n.jsxs)("li",{children:[this.state.passLengthCheck&&Object(n.jsx)(Ue.a,{color:"primary"}),Object(n.jsx)("p",{children:"At least 7 characters"})]}),Object(n.jsxs)("li",{children:[this.state.passNumCheck&&Object(n.jsx)(Ue.a,{color:"primary"}),Object(n.jsx)("p",{children:"A letter, number and/or special character"})]}),Object(n.jsxs)("li",{children:[this.state.passWhiteCheck&&Object(n.jsx)(Ue.a,{color:"primary"}),Object(n.jsx)("p",{children:"No whitespace"})]})]}),Object(n.jsxs)("h4",{children:["Already have an account? ",Object(n.jsx)(p.b,{to:"/sign-in",children:"Sign in here."})]}),Object(n.jsx)(He.ReCaptcha,{ref:function(t){e.captchaDemo=t},size:"invisible",render:"explicit",sitekey:"6LeIUtMUAAAAAL8jkR0so18q_iYSpjmhdG6nIuWy",onloadCallback:this.onLoadRecaptcha,verifyCallback:this.verifyCallback})]})]})}}]),a}(c.a.Component);function qe(e){var t=Object(O.e)(),a=c.a.useState(""),s=Object(we.a)(a,2),i=s[0],r=s[1],o=c.a.useState(""),l=Object(we.a)(o,2),d=l[0],h=l[1];return Object(n.jsxs)("div",{className:"signInView",children:[Object(n.jsx)("h1",{children:"Sign In"}),Object(n.jsxs)(Re.a,{className:"signInFormContainer",children:[Object(n.jsx)("p",{children:"Sign in to your account"}),Object(n.jsx)("br",{}),Object(n.jsxs)("form",{className:"signInForm",children:[Object(n.jsx)(Ee.a,{className:"signInFormField",id:"",label:"Email Address",type:"text",variant:"outlined",onChange:function(e){r(e.target.value)},required:!0}),Object(n.jsx)(Ee.a,{className:"signInFormField",id:"outlined-password-input",label:"Password",type:"password",variant:"outlined",onChange:function(e){h(e.target.value)},required:!0}),Object(n.jsx)(Ae.a,{className:"createUserButton",type:"submit",variant:"contained",color:"primary",size:"large",onClick:function(a){e.login(a,i,d).then((function(e){r(""),h(""),t.push("/")})).catch((function(e){console.log("Error in Login Promise: ",e)}))},children:"Sign In"})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("h4",{children:["Need to set up an account? ",Object(n.jsx)(p.b,{to:"/create-user",children:"Click here to create a free account."})]})]})]})}a(11),a(438),a(436),a(437);var Je=function(e){var t=e.onDisplayMenu,a=e.loggedIn,s=e.username,c=(e.changeColorDisplay,{color:"dark"===e.colorDisplay?"#EEEEEE":"#000000"});return Object(n.jsxs)("div",{className:"MenuLayout",children:[Object(n.jsx)("h1",{children:"Menu"}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"Navigation"}),Object(n.jsx)(J.a,{}),Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{className:"menuLink",children:Object(n.jsx)(p.b,{style:c,to:"/sign-in",onClick:t,children:"Sign In"})}),Object(n.jsx)("li",{className:"menuLink",children:Object(n.jsx)(p.b,{style:c,to:"/create-user",onClick:t,children:"Create User"})}),Object(n.jsx)("li",{className:"menuLink",children:Object(n.jsx)(p.b,{style:c,to:"/watchlist",onClick:t,children:"Personal Watchlist"})})]}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{className:"menuLink",children:Object(n.jsx)(p.b,{style:c,to:"/",onClick:t,children:"Stock News"})}),Object(n.jsx)("li",{className:"menuLink",children:Object(n.jsx)(p.b,{style:c,to:"/stock-search",onClick:t,children:"Stock Search"})}),Object(n.jsx)("li",{className:"menuLink",children:Object(n.jsx)(p.b,{style:c,to:"/ipo-calendar",onClick:t,children:"IPO Calendar"})}),Object(n.jsx)("li",{className:"menuLink",children:Object(n.jsx)(p.b,{style:c,to:"/earnings-calendar",onClick:t,children:"Earnings Calendar"})})]})]})]}),Object(n.jsxs)("div",{className:"accountSettings",children:[Object(n.jsx)("h3",{children:"Account Settings"}),Object(n.jsx)(J.a,{}),a&&Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"usernameSettings",children:[Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsx)("h4",{children:"Change Username"}),Object(n.jsxs)("p",{children:["Current: ",s]})]}),Object(n.jsx)("input",{type:"text"})]}),Object(n.jsxs)("div",{className:"emailSettings",children:[Object(n.jsx)("h4",{children:"Change Email Address "}),Object(n.jsx)("input",{type:"text"})]}),Object(n.jsxs)("div",{className:"passwordSettings",children:[Object(n.jsx)("h4",{children:"Change Password "}),Object(n.jsx)("input",{type:"text"})]})]}),!a&&Object(n.jsx)("div",{children:Object(n.jsxs)("p",{children:[Object(n.jsx)(p.b,{to:"/sign-in",onClick:t,children:"Sign in"})," to manage account settings"]})})]}),Object(n.jsxs)("div",{className:"watchlistSettings",children:[Object(n.jsx)("h3",{children:"Watchlist"}),Object(n.jsx)(J.a,{}),a&&Object(n.jsx)("p",{children:"Clear Watchlist"}),!a&&Object(n.jsx)("div",{children:Object(n.jsxs)("p",{children:[Object(n.jsx)(p.b,{to:"/sign-in",onClick:t,children:"Sign in"})," to manage watchlist settings"]})})]}),Object(n.jsxs)("div",{className:"displaySettings",children:[Object(n.jsx)("h3",{children:"Display"}),Object(n.jsx)(J.a,{}),Object(n.jsx)("p",{children:"Dark mode coming soon."})]})]})},Qe=a(201),Xe=a(36),Ge=a(440),_e=function(e){var t=e.label,a=e.setDate,s=e.calendarType,i=c.a.useState(new Date(y()())),r=Object(we.a)(i,2),o=r[0],l=r[1];return Object(n.jsx)(Xe.a,{utils:Qe.a,children:Object(n.jsx)(x.a,{children:Object(n.jsx)(Ge.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:t,value:o,onChange:function(e){console.log("date seelected",e),l(e),a({calendarType:s,action:t,date:e})},KeyboardButtonProps:{"aria-label":"change date"}})})})};function $e(e){var t=e.ipoCalendarData||[];return Object(n.jsx)("div",{style:{height:600,width:"100%"},children:Object(n.jsx)(Ne.a,{rows:t,columns:[{field:"id",headerName:"ID",width:70},{field:"date",headerName:"Date",width:130},{field:"company",headerName:"Company Name",width:270},{field:"symbol",headerName:"Symbol",width:100},{field:"sharesTotal",headerName:"Shares Offered",width:130},{field:"sharesValue",headerName:"Shares Value",width:130},{field:"priceRange",headerName:"Price Range",width:130},{field:"exchange",headerName:"Exchange",width:170},{field:"status",headerName:"Status",width:130}]})})}var Ke=function(e){var t=e.submitDates,a=e.setDate,s=e.ipoCalendarItems;return Object(n.jsxs)("div",{className:"ipoCalendarView",children:[Object(n.jsx)("h1",{children:"IPO Calendar"}),Object(n.jsx)("p",{children:"Search for historical and future IPO dates."}),Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsx)(_e,{calendarType:"ipo calendar",setDate:a,label:"From"}),Object(n.jsx)(_e,{calendarType:"ipo calendar",setDate:a,label:"To",className:"margin-right"}),Object(n.jsx)(Ae.a,{onClick:function(){return t("ipo calendar")},type:"submit",label:"Search",id:"ipo-search-btn",color:"primary",size:"large",children:"Search"})]}),void 0!==s&&Object(n.jsx)($e,{ipoCalendarData:s})]})};function Ze(e){var t=e.earningsCalendarData||[];return Object(n.jsx)("div",{style:{height:600,width:"100%"},children:Object(n.jsx)(Ne.a,{rows:t,columns:[{field:"id",headerName:"ID",width:70},{field:"date",headerName:"Date",width:130},{field:"symbol",headerName:"Symbol",width:100},{field:"hour",headerName:"Release Time",width:100},{field:"quarter",headerName:"Quarter",width:130},{field:"year",headerName:"Year",width:100},{field:"revenueActual",headerName:"Revenue Actual",width:170},{field:"revenueEstimate",headerName:"Revenue Estimate",width:170},{field:"epsActual",headerName:"EPS Actual",width:130},{field:"epsEstimate",headerName:"EPS Estimate",width:130}]})})}var et=function(e){var t=e.submitDates,a=e.setDate,s=e.earningsCalendarItems;return Object(n.jsxs)("div",{className:"ipoCalendarView",children:[Object(n.jsx)("h1",{children:"Earnings Calendar"}),Object(n.jsx)("p",{children:"Search for historical and future earnings call dates."}),Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsx)(_e,{calendarType:"earnings calendar",setDate:a,label:"From"}),Object(n.jsx)(_e,{calendarType:"earnings calendar",setDate:a,label:"To",className:"margin-right"}),Object(n.jsx)(Ae.a,{onClick:function(){return t("earnings calendar")},type:"submit",label:"Search",id:"ipo-search-btn",color:"primary",size:"large",children:"Search"})]}),void 0!==s&&Object(n.jsx)(Ze,{earningsCalendarData:s})]})},tt=a(447),at=a(444),nt=a(365);function st(e){return Object(n.jsx)(at.a,Object(je.a)({elevation:6,variant:"filled"},e))}var ct=Object(nt.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function it(e){var t=e.displaySnackBar,a=e.snackBarMessage,s=e.removeSnackBar,c=e.snackBarSeverity,i=ct();return Object(n.jsx)("div",{className:i.root,children:Object(n.jsx)(tt.a,{open:t,autoHideDuration:5e3,onClose:s,children:Object(n.jsx)(st,{onClose:s,severity:c||"info",children:a})})})}var rt=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state=localStorage.state?JSON.parse(localStorage.state):{displayMenu:!1,colorDisplay:"light",newsItems:[],loggedIn:!1,loginError:!1,displaySnackBar:!1,snackBarMessage:"",snackBarSeverity:"",email:"",userId:0,username:"",searchItems:[],stockSelectHistory:[],watchlist:[],stockName:"",stockNameDisplay:"",stockPriceRealtime:{},stockPrice:0,stockCompany:"",ipoCalendarItems:[],earningsCalendarItems:[],ipoCalendarFromDate:y()().format("YYYY-MM-DD"),ipoCalendarToDate:y()().format("YYYY-MM-DD"),earningsCalendarFromDate:y()().format("YYYY-MM-DD"),earningsCalendarToDate:y()().format("YYYY-MM-DD"),candlestickData:[],stockQuote:{},companyProfile:{},companyFinancials:[]},n.login=n.login.bind(Object(j.a)(n)),n.logout=n.logout.bind(Object(j.a)(n)),n.setDate=n.setDate.bind(Object(j.a)(n)),n.submitDates=n.submitDates.bind(Object(j.a)(n)),n.onNewsSearch=n.onNewsSearch.bind(Object(j.a)(n)),n.onStockSearchSelect=Object(F.debounce)(n.onStockSearchSelect.bind(Object(j.a)(n)),200),n.onStockSearch=Object(F.throttle)(n.onStockSearch.bind(Object(j.a)(n)),400),n.onSelectTimeline=Object(F.debounce)(n.onSelectTimeline.bind(Object(j.a)(n)),200),n.updateStockSelectHistory=n.updateStockSelectHistory.bind(Object(j.a)(n)),n.onAddStockToWatchlist=n.onAddStockToWatchlist.bind(Object(j.a)(n)),n.removeStock=n.removeStock.bind(Object(j.a)(n)),n.removeSnackBar=n.removeSnackBar.bind(Object(j.a)(n)),n.onDisplayMenu=n.onDisplayMenu.bind(Object(j.a)(n)),n.changeColorDisplay=n.changeColorDisplay.bind(Object(j.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.onNewsSearch("stocks"),this.state.loggedIn&&this.state.userId&&I(this.state.userId).then((function(t){e.setState({watchlist:t.data||[]})})).catch((function(t){console.log("Error retrieving watchlist on mount",t),e.setState({snackBarMessage:"Error retrieving watchlist.",displaySnackBar:!0,snackBarSeverity:"error"})})),window.socket.addEventListener("message",Object(F.debounce)((function(t){console.log("Message from server ",JSON.parse(t.data));var a=JSON.parse(t.data);a.hasOwnProperty("data")?e.setState((function(e){var t=Object.assign({},e.stockPriceRealtime);return t[a.data[0].s]=a.data[0].p,{realtimeStockPriceObj:t}})):console.log("No realtime stock data flowing")}),1e3))}},{key:"onNewsSearch",value:function(e){var t=this;P(e).then((function(e){t.setState({newsItems:[e.data]})})).catch((function(e){console.log("Error getting news",e),t.setState({snackBarMessage:"News could not be updated.",snackBarSeverity:"error",displaySnackBar:!0})}))}},{key:"componentDidUpdate",value:function(){window.localStorage.setItem("state",JSON.stringify(this.state))}},{key:"onDisplayMenu",value:function(){this.setState({displayMenu:!this.state.displayMenu})}},{key:"changeColorDisplay",value:function(){var e="light"===this.state.colorDisplay?"dark":"light";this.setState({colorDisplay:e})}},{key:"submitDates",value:function(e){var t=this;try{"ipo calendar"===e?A(this.state.ipoCalendarFromDate,this.state.ipoCalendarToDate).then((function(e){var a=e.data;console.log(a),t.setState({ipoCalendarItems:a})})).catch((function(e){console.log("Error getting IPO calendar data",e),t.setState({displaySnackBar:!0,snackBarSeverity:"error",snackBarMessage:"Error getting IPO calendar data."})})):"earnings calendar"===e&&L(this.state.earningsCalendarFromDate,this.state.earningsCalendarToDate).then((function(e){var a=e.data;t.setState({earningsCalendarItems:a})})).catch((function(e){console.log("Error getting earnings calendar data: ",e),t.setState({displaySnackBar:!0,snackBarSeverity:"error",snackBarMessage:"Error getting earnings calendar data."})}))}catch(a){console.log("Error submitting dates for ".concat(e,": "),a),this.setState({displaySnackBar:!0,snackBarSeverity:"error",snackBarMessage:"Error submitting dates for ".concat(e,".")})}}},{key:"setDate",value:function(e){var t=y()(e.date).format("YYYY-MM-DD");"ipo calendar"===e.calendarType?"From"===e.action?this.setState({ipoCalendarFromDate:t}):"To"===e.action&&this.setState({ipoCalendarToDate:t}):"earnings calendar"===e.calendarType&&("From"===e.action?this.setState({earningsCalendarFromDate:t}):"To"===e.action&&this.setState({earningsCalendarToDate:t}))}},{key:"removeSnackBar",value:function(){this.setState({displaySnackBar:!1})}},{key:"login",value:function(e,t,a){var n=this;return e.preventDefault(),new Promise((function(e,s){E({email:t,password:a}).then((function(t){n.setState({loggedIn:!0,username:t.data.username,userId:t.data.userId,token:t.data.token,watchlist:t.data.watchlist||[],loginError:!1,displaySnackBar:!0,snackBarMessage:"Successfully logged in. Hello ".concat(t.data.username,"!"),snackBarSeverity:"info"},e())})).catch((function(e){console.log("LOGIN ERROR: ",e),n.setState({loginError:!0,displaySnackBar:!0,snackBarMessage:"Error Logging in. Please try again.",snackBarSeverity:"error"},s())}))}))}},{key:"logout",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.localStorage.removeItem("state");case 2:return e.next=4,document.location.reload();case 4:return e.next=6,this.setState({loggedIn:!1,username:"",userId:0,token:"",watchlist:[],displaySnackBar:!0,snackBarMessage:"Successfully logged out.",snackBarSeverity:"info"});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeStock",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(this.state.userId,t).then((function(e){console.log("Removed stock from watchlist",t.ticker),a.setState({snackBarSeverity:"info",snackBarMessage:"Removed ".concat(t.ticker," from watchlist."),displaySnackBar:!0})})).catch((function(e){console.log("Error removing stock from watchlist: ",e),a.setState({snackBarSeverity:"error",snackBarMessage:"Error removing ".concat(t.ticker," from watchlist."),displaySnackBar:!0})}));case 2:return e.next=4,I(this.state.userId).then((function(e){a.setState({watchlist:e})})).catch((function(e){console.log("Error retrieving watchlist: ",e),a.setState({displaySnackBar:!0,snackBarMessage:"Error retrieving watchlist.",snackBarSeverity:"error"})}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onAddStockToWatchlist",value:function(){var e=Object(d.a)(l.a.mark((function e(t,a){var n,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.loggedIn){e.next=6;break}return n={ticker:t,company:a},e.next=4,B(this.state.userId,n).then((function(e){s.setState({displaySnackBar:!0,snackBarMessage:"".concat(t," added to watchlist."),snackBarSeverity:"info"})})).catch((function(e){console.log("Error adding stock to watchlist",e),s.setState({snackBarMessage:"Stock already in watchlist.",displaySnackBar:!0,snackBarSeverity:"error"},(function(){}))}));case 4:return e.next=6,I(this.state.userId).then((function(e){s.setState({watchlist:e})})).catch((function(e){console.log("Error retrieving watchlist: ",e),s.setState({displaySnackBar:!0,snackBarMessage:"Error retrieving watchlist.",snackBarSeverity:"error"})}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"onStockSearch",value:function(e){var t=this;window.dataLayer.push({event:"searchTermEvent"}),w(e).then((function(a){t.setState({searchItems:a.data.bestMatches,stockName:e})})).catch((function(e){return console.log("Error finding stock in search",e)}))}},{key:"updateStockSelectHistory",value:function(e){this.setState((function(t){return{stockSelectHistory:t.stockSelectHistory.concat(e)}}))}},{key:"onStockSearchSelect",value:function(){var e=Object(d.a)(l.a.mark((function e(t,a){var n,s,c=this,i=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:"10D",window.ga("send","pageview","/stocks/?stock=".concat(t)),e.next=4,this.updateStockSelectHistory(t);case 4:return e.next=6,N(t);case 6:if(!(this.state.stockSelectHistory.length>1)){e.next=10;break}return s=this.state.stockSelectHistory,e.next=10,C(s[s.length-2]);case 10:return v(t,n).then((function(e){var t=e.data.candlestickObj;c.setState({candlestickData:t})})).catch((function(e){console.log("Error getting Finnhub data on frontend",e)})),e.next=13,S(t).then((function(e){var t=e.data;c.setState({stockQuote:t})})).catch((function(e){console.log("Error getting Finnhub data on frontend: stock quote",e)}));case 13:return e.next=15,D(t).then((function(e){var t=e.data;c.setState({companyProfile:t})})).catch((function(e){console.log("Error getting company profile on client",e)}));case 15:return e.next=17,M(t).then((function(e){var t=e.data;c.setState({companyFinancials:t})})).catch((function(e){console.log("Error getting company profile on client",e)}));case 17:P(a).then((function(e){c.setState({timelineRef:"1D",newsItems:[e.data],stockCompany:a})})).catch((function(e){return console.log(e)})),this.setState({searchItems:[]});case 19:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"onSelectTimeline",value:function(e){var t=this;v(this.state.stockName,e).then((function(e){var a=e.data.candlestickObj;t.setState({candlestickData:a})})).catch((function(e){console.log("Error getting Finnhub data on frontend",e)}))}},{key:"render",value:function(){var e=this;return Object(n.jsx)(p.a,{basename:"/",children:Object(n.jsxs)("div",{className:"app",style:{color:"dark"===this.state.colorDisplay?"white":""},children:[Object(n.jsxs)(x.a,{className:"sidebarGrid",item:!0,sm:3,children:[Object(n.jsx)(q,{onStockSubmit:this.onStockSubmit,searchItems:this.state.searchItems,loggedIn:this.state.loggedIn,logout:this.logout,username:this.state.username,onDisplayMenu:this.onDisplayMenu,displayMenu:this.state.displayMenu,colorDisplay:this.state.colorDisplay}),Object(n.jsx)(te,{searchItems:this.state.searchItems,stockName:this.state.stockName,loggedIn:this.state.loggedIn,displayMenu:this.state.displayMenu,onDisplayMenu:this.onDisplayMenu,colorDisplay:this.state.colorDisplay})]}),Object(n.jsxs)(x.a,{className:"mainViewGrid",style:{backgroundColor:"light"===this.state.colorDisplay?"#f0f0f0":"#303030"},item:!0,sm:9,children:[Object(n.jsx)(it,{snackBarMessage:this.state.snackBarMessage,displaySnackBar:this.state.displaySnackBar,snackBarSeverity:this.state.snackBarSeverity,removeSnackBar:this.removeSnackBar,loginError:this.state.loginError}),this.state.displayMenu&&Object(n.jsx)(Je,{loggedIn:this.state.loggedIn,onDisplayMenu:this.onDisplayMenu,email:this.state.email,username:this.state.username,changeColorDisplay:this.changeColorDisplay,colorDisplay:this.state.colorDisplay}),!this.state.displayMenu&&Object(n.jsxs)("div",{children:[Object(n.jsx)(O.a,{path:"/stock-search",exact:!0,render:function(t){return Object(n.jsx)(Ye,{searchItems:e.state.searchItems,onStockSearch:e.onStockSearch,onStockSearchSelect:e.onStockSearchSelect,colorDisplay:e.state.colorDisplay,watchlist:e.state.watchlist,onAddStockToWatchlist:e.onAddStockToWatchlist,removeStock:e.removeStock,loggedIn:e.state.loggedIn})}}),Object(n.jsx)(O.a,{path:"/stocks/*",exact:!0,render:function(t){return Object(n.jsx)(De,{candlestickData:e.state.candlestickData,stockQuote:e.state.stockQuote,companyProfile:e.state.companyProfile,companyFinancials:e.state.companyFinancials,displayMenu:e.state.displayMenu,stockName:e.state.stockName,stockNameDisplay:e.state.stockNameDisplay,stockPrice:e.state.stockPrice,stockPriceRealtime:e.state.stockPriceRealtime,company:e.state.stockCompany,onStockSearchSelect:e.onStockSearchSelect,newsItems:e.state.newsItems,onSelectTimeline:e.onSelectTimeline,timelineRef:e.state.timelineRef,colorDisplay:e.state.colorDisplay})}}),Object(n.jsx)(O.a,{path:"/",exact:!0,render:function(t){return Object(n.jsx)(se,{newsItems:e.state.newsItems,displayMenu:e.state.displayMenu,earningsCalendar:e.state.earningsCalendar,onStockSearchSelect:e.onStockSearchSelect,onNewsSearch:e.onNewsSearch,colorDisplay:e.state.colorDisplay})}}),Object(n.jsx)(O.a,{path:"/create-user",exact:!0,render:function(t){return Object(n.jsx)(Ve,{displayMenu:e.state.displayMenu})}}),Object(n.jsx)(O.a,{path:"/sign-in",exact:!0,render:function(t){return Object(n.jsx)(qe,{displayMenu:e.state.displayMenu,login:e.login,loggedIn:e.state.loggedIn,loginError:e.state.loginError,displaySnackBar:e.state.displaySnackBar,snackBarMessage:e.state.snackBarMessage,snackBarSeverity:e.state.snackBarSeverity,removeSnackBar:e.removeSnackBar})}}),Object(n.jsx)(O.a,{path:"/watchlist",exact:!0,render:function(t){return Object(n.jsx)(Te,{watchlist:e.state.watchlist,onStockSearchSelect:e.onStockSearchSelect,removeStock:e.removeStock,loggedIn:e.state.loggedIn,colorDisplay:e.state.colorDisplay})}}),Object(n.jsx)(O.a,{path:"/ipo-calendar",exact:!0,render:function(t){return Object(n.jsx)(Ke,{setDate:e.setDate,submitDates:e.submitDates,ipoCalendarItems:e.state.ipoCalendarItems})}}),Object(n.jsx)(O.a,{path:"/earnings-calendar",exact:!0,render:function(t){return Object(n.jsx)(et,{setDate:e.setDate,submitDates:e.submitDates,earningsCalendarItems:e.state.earningsCalendarItems})}})]})]})]})})}}]),a}(c.a.Component);window.socket=new WebSocket("wss://ws.finnhub.io?token=btl8tu748v6omckuoct0"),window.environment="https://watchlist-stock-app.herokuapp.com",r.a.render(Object(n.jsx)(p.a,{children:Object(n.jsx)(O.a,{basename:"/",component:rt})}),document.getElementById("root"))}},[[359,1,2]]]);
//# sourceMappingURL=main.558dd524.chunk.js.map